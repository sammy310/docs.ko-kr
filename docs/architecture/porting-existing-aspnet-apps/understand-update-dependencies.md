---
title: 종속성 이해 및 업데이트
description: .NET Framework 프로젝트를 .NET Core로 마이그레이션하려면 .NET Core를 사용 하도록 해당 종속성을 업데이트 해야 합니다. 이 섹션에서는 많은 앱에 대 한 마이그레이션을 계획 하는 데 사용할 수 있는 도구 및 접근 방식을 검사 합니다.
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: afad77860099e4737b5270dc32fc20c2025e63dd
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/04/2021
ms.locfileid: "102401687"
---
# <a name="understand-and-update-dependencies"></a><span data-ttu-id="7a711-104">종속성 이해 및 업데이트</span><span class="sxs-lookup"><span data-stu-id="7a711-104">Understand and update dependencies</span></span>

<span data-ttu-id="7a711-105">앱의 개별 프로젝트를 마이그레이션해야 하는 순서를 확인 한 후 다음 단계는 각 프로젝트의 종속성을 이해 하 고 필요한 경우 업데이트 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-105">After identifying the sequence in which the app's individual projects must be migrated, the next step is to understand each project's dependencies and update them if necessary.</span></span> <span data-ttu-id="7a711-106">플랫폼 종속성의 경우에는 문제의 어셈블리에서 [.Net 이식성 분석기](../../standard/analyzers/portability-analyzer.md) 를 실행 한 다음 생성 된 자세한 결과를 확인 하는 것이 가장 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-106">For platform dependencies, the best way to start is to run the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) on the assembly in question, and then look at the detailed results that are generated.</span></span> <span data-ttu-id="7a711-107">하나 이상의 대상 플랫폼 (예: .NET Core 3.1 또는 .NET Standard 2.0)을 지정 하도록 도구를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-107">You configure the tool to specify one or more target platforms, such as .NET Core 3.1 or .NET Standard 2.0.</span></span> <span data-ttu-id="7a711-108">결과는 대상으로 지정 된 각 플랫폼에 대 한 세부 정보와 함께 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-108">Results are provided with details for each platform targeted.</span></span> <span data-ttu-id="7a711-109">그림 3-4에서는 도구의 출력 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-109">Figure 3-4 shows an example of the tool's output.</span></span>

![.NET 이식성 분석기 보고서 세부 정보](./media/Figure3-4.png)

<span data-ttu-id="7a711-111">**그림 3-4.**</span><span class="sxs-lookup"><span data-stu-id="7a711-111">**Figure 3-4.**</span></span> <span data-ttu-id="7a711-112">.NET 이식성 분석기 보고서 세부 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-112">.NET Portability Analyzer report details.</span></span>

## <a name="update-class-library-dependencies"></a><span data-ttu-id="7a711-113">클래스 라이브러리 종속성 업데이트</span><span class="sxs-lookup"><span data-stu-id="7a711-113">Update class library dependencies</span></span>

<span data-ttu-id="7a711-114">일반적으로 큰 앱에는 여러 프로젝트가 포함 되며, ASP.NET MVC 웹 프로젝트 이외의 대부분의 프로젝트는 클래스 라이브러리 일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-114">Large apps typically involve multiple projects, and most projects other than the ASP.NET MVC web project are likely to be class libraries.</span></span> <span data-ttu-id="7a711-115">클래스 라이브러리는 .NET 플랫폼 사이에서 특히 가장 어려운 (그리고 일반적으로 다시 만들어야 하는 ASP.NET 프로젝트)와 비교 하 여 가장 쉽게 이식할 수 있는 경향이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-115">Class libraries tend to be the easiest to port between .NET platforms, especially compared to ASP.NET projects, which are among the most difficult (and typically need to be re-created).</span></span>

<span data-ttu-id="7a711-116">팀에서는 클래스 라이브러리를 .NET Core로 마이그레이션하기 위한 [변환 도구](https://github.com/dotnet/try-convert) 또는 [.net 업그레이드 도우미 도구](https://aka.ms/dotnet-upgrade-assistant) 를 고려할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-116">Teams can consider the [try-convert tool](https://github.com/dotnet/try-convert) or the [.NET Upgrade Assistant tool](https://aka.ms/dotnet-upgrade-assistant) for migrating class libraries to .NET Core.</span></span> <span data-ttu-id="7a711-117">이러한 도구는 .NET Framework 프로젝트 파일을 분석 하 고 .NET Core 프로젝트 파일 형식으로 마이그레이션하여 프로세스에서 안전 하 게 수행할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-117">These tools analyze a .NET Framework project file and attempt to migrate it to the .NET Core project file format, making any modifications it can safely perform in the process.</span></span> <span data-ttu-id="7a711-118">도구에는 ASP.NET 프로젝트를 사용 하기 위한 몇 가지 수동 지원이 필요할 수 있지만 일반적으로 클래스 라이브러리를 마이그레이션하는 과정의 속도를 높일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-118">The tools may require some manual assistance to work with ASP.NET projects, but can usually help speed up the process of migrating class libraries.</span></span>

<span data-ttu-id="7a711-119">변환 및 업그레이드 도우미 도구는 .NET Core 명령줄 도구로 배포 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-119">The try-convert and Upgrade Assistant tools are deployed as .NET Core command line tools.</span></span> <span data-ttu-id="7a711-120">.NET Framework 앱에서 작동 하도록 설계 되었으므로 Windows 에서만 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-120">They only run on Windows, since they're designed to work with .NET Framework apps.</span></span> <span data-ttu-id="7a711-121">명령 프롬프트에서 다음 명령을 실행 하 여 try-convert를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-121">You can install try-convert by running the following command from a command prompt:</span></span>

```dotnetcli
dotnet tool install -g try-convert
```

<span data-ttu-id="7a711-122">도구를 성공적으로 설치 하면 `try-convert` 클래스 라이브러리의 프로젝트 파일이 있는 폴더에서를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-122">Once you've successfully installed the tool, you can run `try-convert` in the folder where the class library's project file is located.</span></span>

<span data-ttu-id="7a711-123">다음 명령을 사용 하 여 .NET 업그레이드 도우미를 설치 합니다 (try-convert 설치 후).</span><span class="sxs-lookup"><span data-stu-id="7a711-123">Install the .NET Upgrade Assistant with the following command (after installing try-convert):</span></span>

```dotnetcli
dotnet tool install -g upgrade-assistant
```

<span data-ttu-id="7a711-124">프로젝트 파일이 있는 폴더의 명령을 사용 하 여 도구를 실행 합니다 `upgrade-assistant <project>` .</span><span class="sxs-lookup"><span data-stu-id="7a711-124">Run the tool with the command `upgrade-assistant <project>` in the folder where the project file is located.</span></span>

## <a name="update-nuget-package-dependencies"></a><span data-ttu-id="7a711-125">NuGet 패키지 종속성 업데이트</span><span class="sxs-lookup"><span data-stu-id="7a711-125">Update NuGet package dependencies</span></span>

<span data-ttu-id="7a711-126">타사 NuGet 패키지의 사용을 분석 하 고 아직 .NET Standard 지원 하지 않는 (또는 새 버전 에서만 지원) 지원 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-126">Analyze your use of third-party NuGet packages and determine if any of them don't yet support .NET Standard (or do support it but only with a new version).</span></span> <span data-ttu-id="7a711-127">[ `<PackageReference>` Visual Studio의 변환기 도구를 사용 하 여 구문을 사용 하도록 NuGet 패키지를 업데이트](/nuget/consume-packages/migrate-packages-config-to-package-reference)하는 것이 유용할 수 있으므로 최상위 종속성이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-127">It can be helpful to [update NuGet packages to use `<PackageReference>` syntax using Visual Studio's converter tool](/nuget/consume-packages/migrate-packages-config-to-package-reference), so that top-level dependencies are visible.</span></span> <span data-ttu-id="7a711-128">다음으로 이러한 패키지의 현재 버전 이상에서 .NET Core를 지원 하는지 또는 .NET Standard을 지원 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-128">Next, check whether the current or later versions of these packages support .NET Core or .NET Standard.</span></span> <span data-ttu-id="7a711-129">이 정보는 [nuget.org] 또는 각 패키지에 대 한 Visual Studio 내에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-129">This information can be found on [nuget.org] or within Visual Studio for each package.</span></span>

<span data-ttu-id="7a711-130">현재 앱이 사용 하는 패키지의 버전을 사용 하 여 지원이 있는 경우 유용 합니다!</span><span class="sxs-lookup"><span data-stu-id="7a711-130">If support exists using the version of the package the app currently uses, great!</span></span> <span data-ttu-id="7a711-131">그렇지 않은 경우 최신 버전의 패키지가 지원 되는지 여부를 확인 하 고 업그레이드에 관련 된 내용을 조사 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-131">If not, see if a more recent version of the package has the support and research what would be involved in upgrading.</span></span> <span data-ttu-id="7a711-132">특히 패키지의 주 버전이 현재 사용 된 버전과 업그레이드 중인 버전 간에 변경 되는 경우 패키지의 주요 변경 내용이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-132">There may be breaking changes in the package, especially if the major version of the package changes between your currently used version and the one to which you're upgrading.</span></span>

<span data-ttu-id="7a711-133">경우에 따라 지정 된 패키지의 버전은 .NET Core에서 작동 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-133">In some cases, no version of a given package works with .NET Core.</span></span> <span data-ttu-id="7a711-134">이 경우 팀에는 몇 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-134">In that case, teams have a couple options.</span></span> <span data-ttu-id="7a711-135">이러한 작업은 .NET Framework 버전에 따라 계속할 수 있지만 여기에는 제한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-135">They can continue depending on the .NET Framework version, but this has limitations.</span></span> <span data-ttu-id="7a711-136">앱은 Windows 에서만 실행 되며, 팀은 패키지의 이진 파일에 대해 이식성 분석기를 실행 하 여 문제가 발생할 가능성이 있는지 확인 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-136">The app will only run on Windows, and the team may want to run Portability Analyzer on the package's binaries to see if there are any issues likely to be encountered.</span></span> <span data-ttu-id="7a711-137">팀이 철저히 테스트 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-137">Certainly the team will want to test thoroughly.</span></span> <span data-ttu-id="7a711-138">다른 옵션은 다른 패키지를 찾거나 필요한 패키지가 오픈 소스인 경우 .NET Standard 또는 .NET Core 자체로 업그레이드 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-138">The other option is to find a different package or, if the required package is open source, upgrade it to .NET Standard or .NET Core themselves.</span></span>

## <a name="migrate-aspnet-mvc-projects"></a><span data-ttu-id="7a711-139">ASP.NET MVC 프로젝트 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="7a711-139">Migrate ASP.NET MVC projects</span></span>

<span data-ttu-id="7a711-140">`System.Web`네임 스페이스 및 형식은 .Net Core에 존재 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-140">The `System.Web` namespace and types don't exist in .NET Core.</span></span> <span data-ttu-id="7a711-141">종속성을 분석 하 고와 같은 도구를 사용 하 `try-convert` 는 경우 ASP.NET MVC 프로젝트의 자동 마이그레이션과를 참조 하는 모든 코드에 대 한 많은 제안을 제공 하지 않습니다 `System.Web` .</span><span class="sxs-lookup"><span data-stu-id="7a711-141">When you're analyzing dependencies and using tools like `try-convert`, you'll find they don't offer many suggestions for automatic migration of ASP.NET MVC projects and any code in them that references `System.Web`.</span></span> <span data-ttu-id="7a711-142">이러한 프로젝트의 경우 새 ASP.NET Core 웹 프로젝트로 시작 하 고이 프로젝트에 파일을 수동으로 마이그레이션해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-142">For these projects, you'll need to start with a new ASP.NET Core web project and manually migrate files to this project.</span></span>

<span data-ttu-id="7a711-143">일반적으로 앱의 비즈니스 논리가 사용자 인터페이스 계층에 얼마나 많은 지를 최소화 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-143">In general, it's a good practice to minimize how much of an app's business logic lives in its user interface layer.</span></span> <span data-ttu-id="7a711-144">컨트롤러와 뷰를 작게 유지 하는 것도 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-144">It's also best to keep controllers and views small.</span></span> <span data-ttu-id="7a711-145">이 지침을 따르는 앱은 ASP.NET 웹 프로젝트에서 상당한 양의 논리를 포함 하는 것 보다 더 쉽게 이식할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-145">Apps that have followed this guidance will be easier to port than those that have a significant amount of their logic in the ASP.NET web project.</span></span> <span data-ttu-id="7a711-146">포팅 하는 앱이 있지만 아직 프로세스를 시작 하지 않은 경우 유지 관리 하는 것을 염두에 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-146">If you have an app you're considering porting, but haven't begun the process yet, keep this in mind as you maintain it.</span></span> <span data-ttu-id="7a711-147">ASP.NET MVC 또는 Web API 프로젝트에 포함 되는 코드의 양을 최소화 하기 위해 수행 하는 모든 작업은 앱을 이식할 때 시간이 소요 될 때 작업을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-147">Any effort you put toward minimizing how much code is in the ASP.NET MVC or Web API project will likely result in less work when the time comes to port the app.</span></span>

<span data-ttu-id="7a711-148">다음 장은 ASP.NET MVC 및 Web API 프로젝트에서 ASP.NET Core 프로젝트로 마이그레이션하는 방법에 대 한 세부 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-148">The next chapter digs into details of how to migrate from ASP.NET MVC and Web API projects to ASP.NET Core projects.</span></span> <span data-ttu-id="7a711-149">이전 챕터는 앱 간의 가장 큰 차이를 호출 했습니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-149">The previous chapter called out the biggest differences between the apps.</span></span> <span data-ttu-id="7a711-150">기본 프로젝트 구조가 준비 되 면 일반적으로 개별 컨트롤러와 뷰를 쉽게 마이그레이션할 수 있습니다. 특히 주로 웹 업무에 중점을 두는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="7a711-150">Once the basic project structure is in place, migrating individual controllers and views is usually straightforward, especially if they're mainly focused on web responsibilities.</span></span>

## <a name="references"></a><span data-ttu-id="7a711-151">참조</span><span class="sxs-lookup"><span data-stu-id="7a711-151">References</span></span>

- [<span data-ttu-id="7a711-152">.NET 업그레이드 도우미 도구</span><span class="sxs-lookup"><span data-stu-id="7a711-152">.NET Upgrade Assistant tool</span></span>](https://aka.ms/dotnet-upgrade-assistant)
- [<span data-ttu-id="7a711-153">시도 변환 도구</span><span class="sxs-lookup"><span data-stu-id="7a711-153">try-convert tool</span></span>](https://github.com/dotnet/try-convert)
- [<span data-ttu-id="7a711-154">apiport 도구</span><span class="sxs-lookup"><span data-stu-id="7a711-154">apiport tool</span></span>](https://github.com/microsoft/dotnet-apiport)

>[!div class="step-by-step"]
><span data-ttu-id="7a711-155">[이전](identify-migration-sequence.md)
>[다음](strategies-migrating-in-production.md)</span><span class="sxs-lookup"><span data-stu-id="7a711-155">[Previous](identify-migration-sequence.md)
[Next](strategies-migrating-in-production.md)</span></span>

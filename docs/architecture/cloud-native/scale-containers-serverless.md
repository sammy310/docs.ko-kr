---
title: 컨테이너 및 서버리스 애플리케이션 크기 조정
description: 사용자 수요를 충족 하기 위해 Azure Kubernetes Service를 사용 하 여 클라우드 네이티브 응용 프로그램 크기 조정
ms.date: 04/13/2020
ms.openlocfilehash: b4580e6994611ad394bbaa2d5bb07f64c2798569
ms.sourcegitcommit: 5988e9a29cedb8757320817deda3c08c6f44a6aa
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/28/2020
ms.locfileid: "82199926"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="067d3-103">컨테이너 및 서버리스 애플리케이션 크기 조정</span><span class="sxs-lookup"><span data-stu-id="067d3-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="067d3-104">응용 프로그램의 크기를 조정 하는 방법에는 두 가지가 있습니다. 이전의은 단일 리소스에 용량을 추가 하는 것을 의미 하는 반면, 후자는 용량을 늘리기 위해 리소스를 더 추가 하는 것을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-104">There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="067d3-105">간단한 해결 방법: 수직 확장</span><span class="sxs-lookup"><span data-stu-id="067d3-105">The simple solution: scaling up</span></span>

<span data-ttu-id="067d3-106">CPU, 메모리, 디스크 i/o 속도 및 네트워크 i/o 속도를 증가 시켜 기존 호스트 서버를 업그레이드 하는 것을 *확장*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-106">Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as *scaling up*.</span></span> <span data-ttu-id="067d3-107">클라우드 네이티브 응용 프로그램을 확장 하려면 클라우드 공급 업체에서 더 많은 리소스를 선택 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-107">Scaling up a cloud-native application involves choosing more capable resources from the cloud vendor.</span></span> <span data-ttu-id="067d3-108">예를 들어 Kubernetes 클러스터에서 더 큰 Vm을 사용 하는 새 노드 풀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-108">For example, you can a new node pool with larger VMs in your Kubernetes cluster.</span></span> <span data-ttu-id="067d3-109">그런 다음 컨테이너 화 된 서비스를 새 풀로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-109">Then, migrate your containerized services to the new pool.</span></span>

<span data-ttu-id="067d3-110">서버 리스 앱은 전용 app service 계획에서 [프리미엄 함수 계획](https://docs.microsoft.com/azure/azure-functions/functions-scale) 또는 프리미엄 인스턴스 크기를 선택 하 여 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-110">Serverless apps scale up by choosing the [premium Functions plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) or premium instance sizes from a dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="067d3-111">클라우드-네이티브 앱 확장</span><span class="sxs-lookup"><span data-stu-id="067d3-111">Scaling out cloud-native apps</span></span>

<span data-ttu-id="067d3-112">클라우드 네이티브 응용 프로그램은 종종 수요 변동에 상당한 변화를 경험 하 고 있으며, 잠시 후에 규모를 조정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-112">Cloud-native applications often experience large fluctuations in demand and require scale on a moment's notice.</span></span> <span data-ttu-id="067d3-113">규모 확장을 선호 합니다. 규모 확장은 기존 클러스터에 추가 컴퓨터 (노드라고 함) 또는 응용 프로그램 인스턴스를 추가 하 여 수평으로 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-113">They favor scaling out. Scaling out is done horizontally by adding additional machines (called nodes) or application instances to an existing cluster.</span></span> <span data-ttu-id="067d3-114">Kubernetes에서 앱에 대 한 구성 설정 (예: [노드 풀 크기](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)조정)을 조정 하거나 자동 크기 조정을 통해 수동으로 크기를 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-114">In Kubernetes, you can scale manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through autoscaling.</span></span>

<span data-ttu-id="067d3-115">AKS 클러스터는 다음 두 가지 방법 중 하나로 자동 크기 조정 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-115">AKS clusters can autoscale in one of two ways:</span></span>

<span data-ttu-id="067d3-116">먼저 [수평 Pod Autoscaler](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) 는 리소스 수요를 모니터링 하 고이에 맞게 Pod 복제본을 자동으로 조정 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-116">First, the [Horizontal Pod Autoscaler](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) monitors resource demand and automatically scales your POD replicas to meet it.</span></span> <span data-ttu-id="067d3-117">트래픽이 늘어나면 서비스를 확장 하기 위해 추가 복제본이 자동으로 프로 비전 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-117">When traffic increases, additional replicas are automatically provisioned to scale out your services.</span></span> <span data-ttu-id="067d3-118">마찬가지로, 수요가 감소 하는 경우 서비스를 확장 하기 위해 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-118">Likewise, when demand decreases, they're removed to scale-in your services.</span></span> <span data-ttu-id="067d3-119">크기를 조정할 메트릭 (예: CPU 사용량)을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-119">You define the metric on which to scale, for example, CPU usage.</span></span> <span data-ttu-id="067d3-120">실행할 복제본의 최소 및 최대 수를 지정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-120">You can also specify the minimum and maximum number of replicas to run.</span></span> <span data-ttu-id="067d3-121">AKS는 메트릭을 모니터링 하 고 그에 따라 크기를 조정 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-121">AKS monitors that metric and scales accordingly.</span></span>

<span data-ttu-id="067d3-122">그런 다음 [AKS Cluster Autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) 기능을 사용 하면 Kubernetes 클러스터에서 계산 노드를 자동으로 확장 하 여 수요를 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-122">Next, the [AKS Cluster Autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) feature enables you to automatically scale compute nodes across a Kubernetes cluster to meet demand.</span></span> <span data-ttu-id="067d3-123">이를 통해 더 많은 계산 용량이 필요한 경우 기본 Azure 가상 머신 확장 집합에 새 Vm을 자동으로 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-123">With it, you can automatically add new VMs to the underlying Azure Virtual Machine Scale Set whenever more compute capacity of is required.</span></span> <span data-ttu-id="067d3-124">또한 더 이상 필요 하지 않은 경우 노드를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-124">It also removes nodes when no longer required.</span></span>

<span data-ttu-id="067d3-125">그림 3-13에서는 이러한 두 크기 조정 서비스 간의 관계를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-125">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![App Service 계획을 확장 합니다.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="067d3-127">**그림 3-13**.</span><span class="sxs-lookup"><span data-stu-id="067d3-127">**Figure 3-13**.</span></span> <span data-ttu-id="067d3-128">App Service 계획을 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-128">Scaling out an App Service plan.</span></span>

<span data-ttu-id="067d3-129">함께 작동 하 여 변동 수요를 지원 하기 위해 컨테이너 인스턴스와 계산 노드의 최적 수를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-129">Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand.</span></span> <span data-ttu-id="067d3-130">수평 pod autoscaler는 필요한 pod의 수를 최적화 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-130">The horizontal pod autoscaler optimizes the number of pods required.</span></span> <span data-ttu-id="067d3-131">클러스터 autoscaler는 필요한 노드 수를 최적화 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-131">The cluster autoscaler optimizes the number of nodes required.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="067d3-132">Azure Functions 크기 조정</span><span class="sxs-lookup"><span data-stu-id="067d3-132">Scaling Azure Functions</span></span>

<span data-ttu-id="067d3-133">Azure Functions는 수요에 따라 자동으로 확장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-133">Azure Functions automatically scale out upon demand.</span></span> <span data-ttu-id="067d3-134">서버 리소스는 트리거된 이벤트의 수에 따라 동적으로 할당 되 고 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-134">Server resources are dynamically allocated and removed based on the number of triggered events.</span></span> <span data-ttu-id="067d3-135">함수가 실행 될 때 사용 되는 계산 리소스에 대해서만 요금이 청구 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-135">You're only charged for compute resources consumed when your functions run.</span></span> <span data-ttu-id="067d3-136">청구는 실행 횟수, 실행 시간 및 사용 된 메모리를 기준으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-136">Billing is based upon the number of executions, execution time, and memory used.</span></span>

<span data-ttu-id="067d3-137">기본 소비 계획은 대부분의 앱에서 경제적이 고 확장 가능한 솔루션을 제공 하지만 premium 옵션을 사용 하면 개발자는 사용자 지정 Azure Functions 요구 사항에 유연 하 게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-137">While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span> <span data-ttu-id="067d3-138">Premium 요금제로 업그레이드 하면 인스턴스 크기, 사전 준비 인스턴스 (콜드 시작 지연 방지) 및 전용 Vm을 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067d3-138">Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="067d3-139">[이전](deploy-containers-azure.md)
>[다음](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="067d3-139">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>

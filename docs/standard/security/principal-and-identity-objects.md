---
title: Principal 개체 및 Identity 개체
description: .NET의 사용자를 나타내는 id 개체에 대해 읽어 보세요. 또한 역할 & id 개체를 모두 캡슐화 하는 보안 주체 개체에 대해 읽어 보십시오.
ms.date: 07/15/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- WindowsIdentity objects
- GenericIdentity objects
- GenericPrincipal objects
- identity objects, about identity objects
- security [.NET], identity objects
- principal objects, about principal objects
- security [.NET], principals
- WindowsPrincipal objects
ms.assetid: aa5930ad-f3d7-40aa-b6f6-c6edcd5c64f7
ms.openlocfilehash: 79caeed6ed64a07238e398af1e12f51640b88b62
ms.sourcegitcommit: b7a8b09828bab4e90f66af8d495ecd7024c45042
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87555256"
---
# <a name="principal-and-identity-objects"></a><span data-ttu-id="908c9-104">Principal 개체 및 Identity 개체</span><span class="sxs-lookup"><span data-stu-id="908c9-104">Principal and Identity Objects</span></span>

> [!NOTE]
> <span data-ttu-id="908c9-105">이 문서는 Windows에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-105">This article applies to Windows.</span></span>
>
> <span data-ttu-id="908c9-106">ASP.NET Core에 대 한 자세한 내용은 [ASP.NET Core 보안](/aspnet/core/security/)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="908c9-106">For information about ASP.NET Core, see [ASP.NET Core Security](/aspnet/core/security/).</span></span>

<span data-ttu-id="908c9-107">관리 코드는 개체 <xref:System.Security.Principal.IPrincipal> 에 대 한 참조를 포함 하는 개체를 통해 보안 주체의 id 또는 역할을 검색할 수 있습니다 <xref:System.Security.Principal.IIdentity> .</span><span class="sxs-lookup"><span data-stu-id="908c9-107">Managed code can discover the identity or the role of a principal through a <xref:System.Security.Principal.IPrincipal> object, which contains a reference to an <xref:System.Security.Principal.IIdentity> object.</span></span> <span data-ttu-id="908c9-108">Identity 개체와 Principal 개체를 사용자 및 그룹 계정과 같이 익숙한 개념과 비교해 보면 쉽게 이해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-108">It might be helpful to compare identity and principal objects to familiar concepts like user and group accounts.</span></span> <span data-ttu-id="908c9-109">대부분의 네트워크 환경에서 사용자 계정은 사람 또는 프로그램을 나타내고, 그룹 계정은 특정 사용자 범주 및 해당 사용자들이 소유하는 권한을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-109">In most network environments, user accounts represent people or programs, while group accounts represent certain categories of users and the rights they possess.</span></span> <span data-ttu-id="908c9-110">마찬가지로, .NET id 개체는 사용자를 나타내지만 역할은 멤버 자격과 보안 컨텍스트를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-110">Similarly, .NET identity objects represent users, while roles represent memberships and security contexts.</span></span> <span data-ttu-id="908c9-111">.NET에서 principal 개체는 id 개체와 역할을 모두 캡슐화 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-111">In .NET, the principal object encapsulates both an identity object and a role.</span></span> <span data-ttu-id="908c9-112">.NET 응용 프로그램은 해당 id 또는 보다 일반적으로 역할 멤버 자격을 기반으로 보안 주체에 권한을 부여 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-112">.NET applications grant rights to the principal based on its identity or, more commonly, its role membership.</span></span>  
  
## <a name="identity-objects"></a><span data-ttu-id="908c9-113">Identity 개체</span><span class="sxs-lookup"><span data-stu-id="908c9-113">Identity Objects</span></span>

<span data-ttu-id="908c9-114">Identity 개체는 확인 중인 사용자 또는 엔터티에 대한 정보를 캡슐화합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-114">The identity object encapsulates information about the user or entity being validated.</span></span> <span data-ttu-id="908c9-115">가장 기본적인 수준의 Identity 개체에는 이름 및 인증 형식이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-115">At their most basic level, identity objects contain a name and an authentication type.</span></span> <span data-ttu-id="908c9-116">이름으로는 사용자의 이름 또는 Windows 계정 이름이 사용될 수 있고, 인증 형식으로는 Kerberos V5와 같은 지원되는 로그온 프로토콜 또는 사용자 지정 값이 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-116">The name can either be a user's name or the name of a Windows account, while the authentication type can be either a supported logon protocol, such as Kerberos V5, or a custom value.</span></span> <span data-ttu-id="908c9-117">.NET은 <xref:System.Security.Principal.GenericIdentity> <xref:System.Security.Principal.WindowsIdentity> 응용 프로그램이 Windows 인증을 사용 하도록 하려는 경우에 사용할 수 있는 대부분의 사용자 지정 로그온 시나리오와 더 특수 한 개체에 사용할 수 있는 개체를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-117">.NET defines a <xref:System.Security.Principal.GenericIdentity> object that can be used for most custom logon scenarios and a more specialized <xref:System.Security.Principal.WindowsIdentity> object that can be used when you want your application to rely on Windows authentication.</span></span> <span data-ttu-id="908c9-118">또한 사용자 지정 사용자 정보를 캡슐화하는 고유한 identity 클래스를 직접 정의할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-118">Additionally, you can define your own identity class that encapsulates custom user information.</span></span>  
  
<span data-ttu-id="908c9-119"><xref:System.Security.Principal.IIdentity>인터페이스는 이름 및 인증 유형 (예: Kerberos V5 또는 NTLM)에 액세스 하기 위한 속성을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-119">The <xref:System.Security.Principal.IIdentity> interface defines properties for accessing a name and an authentication type, such as Kerberos V5 or NTLM.</span></span> <span data-ttu-id="908c9-120">모든 **Identity** 클래스는 **IIdentity** 인터페이스를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-120">All **Identity** classes implement the **IIdentity** interface.</span></span> <span data-ttu-id="908c9-121">**Identity** 개체와 스레드가 현재 실행 중인 Windows NT 프로세스 토큰 사이의 관계가 반드시 필요한 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-121">There is no required relationship between an **Identity** object and the Windows NT process token under which a thread is currently executing.</span></span> <span data-ttu-id="908c9-122">그러나 **Identity** 개체가 **WindowsIdentity** 개체인 경우 해당 ID는 Windows NT 보안 토큰을 나타내는 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-122">However, if the **Identity** object is a **WindowsIdentity** object, the identity is assumed to represent a Windows NT security token.</span></span>  
  
## <a name="principal-objects"></a><span data-ttu-id="908c9-123">Principal 개체</span><span class="sxs-lookup"><span data-stu-id="908c9-123">Principal Objects</span></span>

<span data-ttu-id="908c9-124">Principal 개체는 코드가 실행되는 보안 컨텍스트를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-124">The principal object represents the security context under which code is running.</span></span> <span data-ttu-id="908c9-125">역할 기반 보안을 구현하는 애플리케이션에서는 Principal 개체와 관련된 역할에 따라 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-125">Applications that implement role-based security grant rights based on the role associated with a principal object.</span></span> <span data-ttu-id="908c9-126">Id 개체와 마찬가지로 .NET에서는 <xref:System.Security.Principal.GenericPrincipal> 개체와 개체를 제공 <xref:System.Security.Principal.WindowsPrincipal> 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-126">Similar to identity objects, .NET provides a <xref:System.Security.Principal.GenericPrincipal> object and a <xref:System.Security.Principal.WindowsPrincipal> object.</span></span> <span data-ttu-id="908c9-127">또한 고유한 사용자 지정 principal 클래스를 정의할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-127">You can also define your own custom principal classes.</span></span>  
  
<span data-ttu-id="908c9-128"><xref:System.Security.Principal.IPrincipal>인터페이스는 연결 된 **id** 개체에 액세스 하기 위한 속성을 정의 하 고 **보안 주체** 개체에 의해 식별 된 사용자가 지정 된 역할의 멤버 인지 여부를 확인 하는 메서드를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-128">The <xref:System.Security.Principal.IPrincipal> interface defines a property for accessing an associated **Identity** object as well as a method for determining whether the user identified by the **Principal** object is a member of a given role.</span></span> <span data-ttu-id="908c9-129">모든 **Principal** 클래스는 **IPrincipal** 인터페이스와 필요한 추가 속성 및 메서드를 모두 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-129">All **Principal** classes implement the **IPrincipal** interface as well as any additional properties and methods that are necessary.</span></span> <span data-ttu-id="908c9-130">예를 들어, 공용 언어 런타임에서는 Windows NT 또는 Windows 2000 그룹 멤버를 역할에 매핑하기 위한 추가 기능을 구현하는 **WindowsPrincipal** 클래스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-130">For example, the common language runtime provides the **WindowsPrincipal** class, which implements additional functionality for mapping Windows NT or Windows 2000 group membership to roles.</span></span>  
  
<span data-ttu-id="908c9-131">**Principal** 개체는 <xref:System.Runtime.Remoting.Messaging.CallContext> 응용 프로그램 도메인 () 내의 호출 컨텍스트 () 개체에 바인딩됩니다 <xref:System.AppDomain> .</span><span class="sxs-lookup"><span data-stu-id="908c9-131">A **Principal** object is bound to a call context (<xref:System.Runtime.Remoting.Messaging.CallContext>) object within an application domain (<xref:System.AppDomain>).</span></span> <span data-ttu-id="908c9-132">기본 호출 컨텍스트는 항상 각각의 새로운 **AppDomain**을 사용하여 만들어지므로 **Principal** 개체를 허용하는 데 사용할 수 있는 호출 컨텍스트가 항상 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-132">A default call context is always created with each new **AppDomain**, so there is always a call context available to accept the **Principal** object.</span></span> <span data-ttu-id="908c9-133">새로운 스레드가 만들어지면 해당 스레드에 대한 **CallContext** 개체도 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-133">When a new thread is created, a **CallContext** object is also created for the thread.</span></span> <span data-ttu-id="908c9-134">**Principal** 개체 참조는 만드는 스레드에서 새로운 스레드의 **CallContext**로 자동 복사됩니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-134">The **Principal** object reference is automatically copied from the creating thread to the new thread's **CallContext**.</span></span> <span data-ttu-id="908c9-135">런타임에서 어떤 **Principal** 개체가 해당 스레드의 작성자에 속하는지 확인할 수 없는 경우에는 **Principal** 및 **Identity** 개체 작성을 위한 기본 정책을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-135">If the runtime cannot determine which **Principal** object belongs to the creator of the thread, it follows the default policy for **Principal** and **Identity** object creation.</span></span>  
  
<span data-ttu-id="908c9-136">구성 가능한 애플리케이션의 도메인 관련 정책을 사용하여 새 애플리케이션 도메인과 연결할 **Principal** 개체의 형식을 결정하기 위한 규칙을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-136">A configurable application domain-specific policy defines the rules for deciding what type of **Principal** object to associate with a new application domain.</span></span> <span data-ttu-id="908c9-137">보안 정책이 허용하는 경우 런타임에서 현재 실행 스레드와 관련된 운영 체제 시스템 토큰을 반영하는 **Principal** 개체 및 **Identity** 개체를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-137">Where security policy permits, the runtime can create **Principal** and **Identity** objects that reflect the operating system token associated with the current thread of execution.</span></span> <span data-ttu-id="908c9-138">기본적으로 런타임에서는 인증되지 않은 사용자를 나타내는 **Principal** 및 **Identity** 개체를 사용하며,</span><span class="sxs-lookup"><span data-stu-id="908c9-138">By default, the runtime uses **Principal** and **Identity** objects that represent unauthenticated users.</span></span> <span data-ttu-id="908c9-139">코드에서 기본 **Principal** 및 **Identity** 개체에 액세스하려고 시도할 때까지는 이러한 개체들을 만들지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-139">The runtime does not create these default **Principal** and **Identity** objects until the code attempts to access them.</span></span>  
  
<span data-ttu-id="908c9-140">애플리케이션 도메인을 만드는 트러스트된 코드를 사용하여 기본 **Principal** 및 **Identity** 개체의 생성을 제어하는 애플리케이션 도메인 정책을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-140">Trusted code that creates an application domain can set the application domain policy that controls construction of the default **Principal** and **Identity** objects.</span></span> <span data-ttu-id="908c9-141">이 애플리케이션 도메인 관련 정책은 해당 애플리케이션 도메인에 있는 모든 실행 스레드에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-141">This application domain-specific policy applies to all execution threads in that application domain.</span></span> <span data-ttu-id="908c9-142">관리 되지 않는 신뢰할 수 있는 호스트에는 기본적으로이 정책을 설정할 수 있는 기능이 있지만이 정책을 설정 하는 관리 코드에는 <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> 도메인 정책을 제어 하기 위한가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-142">An unmanaged, trusted host inherently has the ability to set this policy, but managed code that sets this policy must have the <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> for controlling domain policy.</span></span>  
  
<span data-ttu-id="908c9-143">여러 애플리케이션 도메인 간에, 동일한 프로세스(즉, 동일한 컴퓨터)에서 **Principal** 개체를 전송하는 경우, 원격 인프라에서 호출자의 컨텍스트와 관련된 **Principal** 개체에 대한 참조를 호출 수신자의 컨텍스트에 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="908c9-143">When transmitting a **Principal** object across application domains but within the same process (and therefore on the same computer), the remoting infrastructure copies a reference to the **Principal** object associated with the caller's context to the callee's context.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="908c9-144">참고 항목</span><span class="sxs-lookup"><span data-stu-id="908c9-144">See also</span></span>

- [<span data-ttu-id="908c9-145">방법: WindowsPrincipal 개체 만들기</span><span class="sxs-lookup"><span data-stu-id="908c9-145">How to: Create a WindowsPrincipal Object</span></span>](how-to-create-a-windowsprincipal-object.md)
- [<span data-ttu-id="908c9-146">방법: GenericPrincipal 및 GenericIdentity 개체 만들기</span><span class="sxs-lookup"><span data-stu-id="908c9-146">How to: Create GenericPrincipal and GenericIdentity Objects</span></span>](how-to-create-genericprincipal-and-genericidentity-objects.md)
- [<span data-ttu-id="908c9-147">Principal 개체 바꾸기</span><span class="sxs-lookup"><span data-stu-id="908c9-147">Replacing a Principal Object</span></span>](replacing-a-principal-object.md)
- [<span data-ttu-id="908c9-148">가장 및 되돌리기</span><span class="sxs-lookup"><span data-stu-id="908c9-148">Impersonating and Reverting</span></span>](impersonating-and-reverting.md)
- [<span data-ttu-id="908c9-149">역할 기반 보안</span><span class="sxs-lookup"><span data-stu-id="908c9-149">Role-Based Security</span></span>](role-based-security.md)
- [<span data-ttu-id="908c9-150">주요 보안 개념</span><span class="sxs-lookup"><span data-stu-id="908c9-150">Key Security Concepts</span></span>](key-security-concepts.md)
- [<span data-ttu-id="908c9-151">ASP.NET Core 보안</span><span class="sxs-lookup"><span data-stu-id="908c9-151">ASP.NET Core Security</span></span>](/aspnet/core/security/)
